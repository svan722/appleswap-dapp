"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[955],{19955:function(e,t,s){s.r(t);var a=s(11527);s(50959);var l=s(95686),n=s(37810),i=s(2396),d=s(37560);t.default=()=>(0,a.jsxs)(l.Z,{width:"100%",mb:3,children:[(0,a.jsx)(d.default,{}),(0,a.jsx)(n.ZP,{container:!0,spacing:4,children:(0,a.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,a.jsx)(l.Z,{className:"stnStakeWrapper",children:(0,a.jsx)(i.default,{})})})})]})},2396:function(e,t,s){s.r(t);var a=s(11527),l=s(50959),n=s(5808),i=s(98478),d=s(53404),r=s(6786),c=s(95686),o=s(7859),x=s(56366),u=s(67391),h=s(23017),m=s(66250),j=s(73979),f=s(41490),k=s(75546),w=s(72532),p=s(66343);t.default=()=>{let{t:e}=(0,k.useTranslation)("common"),{breakpoints:t}=(0,n.Z)(),s=(0,r.Z)(t.down("md")),[Z,S]=(0,l.useState)(!1),[g,v]=(0,l.useState)(0),[y,N]=(0,l.useState)(0),[C,P]=(0,l.useState)(!1),[b,R]=(0,l.useState)([]),[A,E]=(0,l.useState)(!1),[T,_]=(0,l.useState)(""),[U,I]=(0,m.Z)(T,_),{chainId:M,library:D,connector:L}=(0,p.ZP)(),V=M||w.ChainId.BNB,B=(0,x.EH)(V,null,Z?0:void 0,Z?0:void 0,{search:T,isStaked:A},b),H=(0,x.d9)(V,null,Z?void 0:0,Z?void 0:0,{search:T,isStaked:A},b),O=Z?H:B,F=C?1:-1,q=(0,l.useCallback)((e,t)=>{var s,a;let l=null!==(s=e.token.symbol)&&void 0!==s?s:"",n=null!==(a=t.token.symbol)&&void 0!==a?a:"";return(l>n?-1:1)*F},[F]),W=(0,l.useCallback)((e,t)=>{var s,a;let l=null!==(s=e.valueOfTotalStakedAmountInUSDC)&&void 0!==s?s:(0,h.i_)(e.totalStakedAmount),n=null!==(a=t.valueOfTotalStakedAmountInUSDC)&&void 0!==a?a:(0,h.i_)(t.totalStakedAmount);return(l>n?-1:1)*F},[F]),z=(0,l.useCallback)((e,t)=>((0,h.ey)(e)>(0,h.ey)(t)?-1:1)*F,[F]),$=(0,l.useCallback)((e,t)=>{var s,a;let l=(0,h.i_)(e.earnedAmount)*(null!==(s=e.rewardTokenPriceinUSD)&&void 0!==s?s:0),n=(0,h.i_)(t.earnedAmount)*(null!==(a=t.rewardTokenPriceinUSD)&&void 0!==a?a:0);return(l>n?-1:1)*F},[F]),K=(0,l.useMemo)(()=>O.sort((e,t)=>1===y?q(e,t):2===y?W(e,t):3===y?z(e,t):4===y?$(e,t):1),[O,y,q,W,z,$]),Q=(0,l.useMemo)(()=>K.map(e=>e.stakingRewardAddress.toLowerCase()).reduce((e,t)=>e+t,""),[K]);(0,l.useEffect)(()=>{v(0)},[Q]);let X=(0,l.useMemo)(()=>{let e=K.filter(e=>!e.isStatic),t=K.filter(e=>e.isStatic),s=[...t,...e];return s?s.slice(0,(0,h.o1)(g,10)):null},[K,g]),{loadMoreRef:Y}=(0,j.q)(()=>{v(g+1)}),renderStakedOnly=()=>(0,a.jsxs)(c.Z,{className:"flex items-center",children:[(0,a.jsx)("small",{className:"text-disabled",style:{marginRight:8},children:e("myPools")}),(0,a.jsx)(u.Zh,{toggled:A,onToggle:()=>E(!A)})]}),G=[{text:e("active"),onClick:()=>S(!1),condition:!Z},{text:e("ended"),onClick:()=>S(!0),condition:Z}],J=[{text:e("earn"),index:1,width:.25},{text:e("network"),index:99,width:.15},{text:e("stakeType"),index:999,width:.1},{text:e("totalDeposits"),index:2,width:.26,justify:"center"},{text:e("apr"),index:3,width:.13,justify:"center"},{text:e("earned"),index:4,width:.11,justify:"flex-end"}],ee=J.map(e=>({...e,onClick:()=>{99!==e.index&&999!==e.index&&(y===e.index?P(!C):(N(e.index),P(!0)))}})),et=J.map(e=>({text:e.text,onClick:()=>N(e.index)})),onAddMyPool=e=>{let t=b.some(t=>t.stakingRewardAddress===e.stakingRewardAddress);t||(b.push(e),R(b))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Z,{className:"flex flex-wrap items-center justify-between",mb:3.5,children:[(0,a.jsxs)(c.Z,{className:"stnStakeTitle text-white flex-1",children:[(0,a.jsx)("h5",{className:"h5",children:e("earnProgram")}),(0,a.jsx)("small",{children:e("stakeDesc")})]}),(0,a.jsxs)(c.Z,{className:"flex flex-wrap items-center",children:[(0,a.jsxs)(c.Z,{className:"flex justify-between",width:(0,h.dx)(s),flex:s?"unset":1,children:[(0,a.jsx)(c.Z,{width:s?"calc(100% - 150px)":1,mr:2,my:2,children:(0,a.jsx)(u.Mj,{placeholder:s?e("search"):e("searchPlaceHolder"),value:U,setValue:I})}),s&&renderStakedOnly()]}),(0,a.jsxs)(c.Z,{width:(0,h.dx)(s),className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(u.w8,{width:160,height:40,items:G})," "]}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{height:40,children:(0,a.jsx)(u.fR,{title:e("sortBy"),menuItems:et})}),(0,a.jsxs)(c.Z,{className:"flex items-center",children:[(0,a.jsx)("small",{className:"text-disabled",style:{marginRight:8},children:C?e("sortdesc"):e("sortasc")}),(0,a.jsx)(u.Zh,{toggled:C,onToggle:()=>P(!C)})]})]}):renderStakedOnly()]})]})]}),(0,a.jsx)(o.Z,{}),!s&&(0,a.jsx)(c.Z,{mt:2.5,display:"flex",paddingX:2,children:ee.map(e=>(0,a.jsxs)(c.Z,{width:e.width,justifyContent:e.justify,onClick:e.onClick,className:"flex items-center cursor-pointer ".concat(y===e.index?"text-secondary":""),children:[(0,a.jsx)("small",{children:e.text}),99!==e.index&&999!==e.index&&(0,a.jsx)(c.Z,{display:"flex",ml:.5,children:y===e.index&&C?(0,a.jsx)(i.Z,{size:20}):(0,a.jsx)(d.Z,{size:20})})]},e.index))}),X&&X.length?X.map((e,t)=>(0,a.jsx)(u.bT,{syrup:e,dQUICKAPY:"",onAddMyPool:onAddMyPool},t)):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{width:"100%",height:80}),(0,a.jsx)(f.Z,{width:"100%",height:80})]}),(0,a.jsx)("div",{ref:Y})]})}},37560:function(e,t,s){s.r(t);var a=s(11527),l=s(50959),n=s(95686),i=s(56366),d=s(72532),r=s(23017),c=s(41490),o=s(75546),x=s(80203),u=s(87880),h=s(66343),m=s(14224);let StatisticItem=e=>{let{title:t,value:s,customValue:l}=e;return(0,a.jsxs)(n.Z,{p:1.5,className:"text-center",children:[(0,a.jsx)(n.Z,{children:(0,a.jsx)("span",{className:"title-statistic",children:t})}),s?(0,a.jsx)("h6",{className:"weight-600",children:l||"$".concat((0,r.uf)(s))}):(0,a.jsx)(c.Z,{width:"100%",height:"30px"})]})};t.default=()=>{let{t:e}=(0,o.useTranslation)("common"),{chainId:t}=(0,h.ZP)(),[s,c]=(0,l.useState)(0),[j,f]=(0,l.useState)(0),[k,w]=(0,l.useState)(0),[p,Z]=(0,l.useState)(0),S=null!=t?t:d.ChainId.BNB,g=(0,i.EH)(S),v=(0,i.oq)(S);(0,l.useEffect)(()=>{v&&Promise.all(v).then(e=>{let t=e.reduce((e,t)=>({totalUsers:e.totalUsers+(t.totalUsers||0),totalEarns:e.totalEarns+(t.totalEarned||0),totalStaked:e.totalStaked+(t.totalStaked||0),totalRewards:e.totalRewards+(t.totalRewards||0)}),{totalUsers:0,totalEarns:0,totalStaked:0,totalRewards:0});w(t.totalUsers),c(t.totalEarns),f(t.totalStaked),Z(t.totalRewards)})},[g,v,t]);let y=[{title:e("totalValueLocked"),value:j},{title:e("totalRewards"),value:p||null,customValue:"$".concat((0,r.uf)(p)," / ").concat(e("day"))},{title:e("totalRewardsEarned"),value:s},{title:e("totalStakers"),value:k,customValue:k}],N=m.env.REACT_APP_HELP_URL;return(0,a.jsxs)(n.Z,{width:"100%",mb:3,className:"stakeStatisticsWrapper",children:[(0,a.jsxs)(n.Z,{className:"pageHeading items-center",children:[(0,a.jsx)("span",{className:"h4",children:e("stakeMetrics")}),N&&(0,a.jsxs)(n.Z,{className:"helpWrapper",onClick:()=>window.open(N,"_blank"),children:[(0,a.jsx)("small",{children:e("help")}),(0,a.jsx)(u.Z,{src:x.Z})]})]}),(0,a.jsx)(n.Z,{className:"stakeStatistics",children:(0,a.jsx)(a.Fragment,{children:y.map((e,t)=>(0,a.jsx)(StatisticItem,{title:e.title,value:e.value,customValue:e.customValue},t))})})]})}},73979:function(e,t,s){s.d(t,{q:function(){return useInfiniteLoading}});var a=s(38701);let useInfiniteLoading=e=>{let{observe:t}=(0,a.ZP)({onChange:()=>{e()},rootMargin:"100px 0px"});return{loadMoreRef:t}}}}]);