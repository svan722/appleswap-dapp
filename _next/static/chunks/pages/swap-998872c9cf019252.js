(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{33124:function(e,t,n){var a=n(82996),s=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(s,""):e}},82996:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},66292:function(e,t,n){var a=n(36838),s=n(76668),i=n(12448),r=Math.max,d=Math.min;e.exports=function(e,t,n){var u,l,o,p,c,f,m=0,y=!1,h=!1,x=!0;if("function"!=typeof e)throw TypeError("Expected a function");function invokeFunc(t){var n=u,a=l;return u=l=void 0,m=t,p=e.apply(a,n)}function shouldInvoke(e){var n=e-f,a=e-m;return void 0===f||n>=t||n<0||h&&a>=o}function timerExpired(){var e,n,a,i=s();if(shouldInvoke(i))return trailingEdge(i);c=setTimeout(timerExpired,(e=i-f,n=i-m,a=t-e,h?d(a,o-n):a))}function trailingEdge(e){return(c=void 0,x&&u)?invokeFunc(e):(u=l=void 0,p)}function debounced(){var e,n=s(),a=shouldInvoke(n);if(u=arguments,l=this,f=n,a){if(void 0===c)return m=e=f,c=setTimeout(timerExpired,t),y?invokeFunc(e):p;if(h)return clearTimeout(c),c=setTimeout(timerExpired,t),invokeFunc(f)}return void 0===c&&(c=setTimeout(timerExpired,t)),p}return t=i(t)||0,a(n)&&(y=!!n.leading,o=(h="maxWait"in n)?r(i(n.maxWait)||0,t):o,x="trailing"in n?!!n.trailing:x),debounced.cancel=function(){void 0!==c&&clearTimeout(c),m=0,u=f=l=c=void 0},debounced.flush=function(){return void 0===c?p:trailingEdge(s())},debounced}},76668:function(e,t,n){var a=n(29165);e.exports=function(){return a.Date.now()}},12448:function(e,t,n){var a=n(33124),s=n(36838),i=n(16764),r=0/0,d=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return r;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=u.test(e);return n||l.test(e)?o(e.slice(2),n?2:8):d.test(e)?r:+e}},42504:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return n(63254)}])},12842:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return w},default:function(){return swap_SwapMain}});var a=n(11527),s=n(50959),i={src:"/_next/static/media/SettingsIcon.7f1fb49d.svg",height:40,width:40,blurWidth:0,blurHeight:0},r=n(65609),d=n(67391),u=n(75546),l=n(72532),o=n(77765),p=n(67846),c=n.n(p),f=n(95686),m=n(20475),y=n(92956),h=n(6559),x=n(66343),T=n(56254),Swap_LimitOrder=e=>{let{onTokenChange:t}=e,{handleCurrencySelection:n}=(0,T.useGelatoLimitOrdersHandlers)(),{derivedOrderInfo:{currencies:i}}=(0,T.useGelatoLimitOrders)(),{chainId:r}=(0,x.ZP)(),d=(0,T.useCurrency)(h.xY.tokens.COMMON[r].USDT.address),u=l.WETH[r],o=u.address,p=(0,T.useCurrency)(o);return(0,s.useMemo)(()=>{i.input&&i.output&&t(i.input,i.output)},[i]),(0,s.useEffect)(()=>{d&&n("INPUT",d),p&&n("OUTPUT",p)},[r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.GelatoLimitOrderPanel,{}),(0,a.jsx)(T.GelatoLimitOrdersHistoryPanel,{})]})};let{DEFAULT_TOKEN_LIST_URL:v}=h.GlobalConst.utils;function Gelato(e){let{children:t}=e,{address:n}=(0,o.mA)(),i=(0,o.xx)(),r=(0,o.t_)({chainId:i}),d=(0,s.useMemo)(()=>i&&r?(0,x.Si)(r):null,[i]),u=i||l.ChainId.BNB;v[u];let p=h.jb.bases.SUGGESTED_BASES[u]||[],c=p.map(e=>({chainId:u,address:e.address,decimals:e.decimals,name:e.name,symbol:e.symbol}));return(0,a.jsx)(T.GelatoProvider,{library:d,chainId:u,account:null!=n?n:void 0,bases:c,useDefaultTheme:!1,children:t})}var Swap_LimitOrderProvider=e=>{let{onTokenChange:t}=e;return(0,a.jsx)(Gelato,{children:(0,a.jsx)(Swap_LimitOrder,{onTokenChange:t})})},w=!0,swap_SwapMain=e=>{let{setTypeSwap:t,onTokenChange:n}=e,[p,h]=(0,s.useState)(1),[x,T]=(0,s.useState)(!1),{isProMode:v,updateIsProMode:w}=(0,r.uX)(),b=(0,y.useRouter)(),{t:S}=(0,u.useTranslation)("common"),handleSetIndex=e=>{h(e),t(e)};(0,s.useEffect)(()=>{1!==p&&h(1)},[b.asPath]);let g=(0,o.xx)();(0,s.useEffect)(()=>{g===l.ChainId.ARBITRUM&&1!==p&&h(1)},[g]);let I=(0,s.useMemo)(()=>g!==l.ChainId.ARBITRUM,[g]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"w-full max-w-[400px] flex-wrap",children:[x&&(0,a.jsx)(d.TB,{open:x,onClose:()=>T(!1)}),(0,a.jsx)(f.Z,{className:"flex flex-wrap w-full items-center justify-between ".concat(v?" proModeWrapper":""),children:(0,a.jsx)(f.Z,{display:"flex w-full",width:1,children:(0,a.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,a.jsx)("div",{className:"flex flex-row w-full",children:(0,a.jsxs)("div",{className:"flex flex-row items-center w-fit rounded-lg bg-[#363238]",children:[(0,a.jsx)(f.Z,{className:"".concat(1===p?"activeSwap":""," swapItem headingItem\n                  "),onClick:()=>handleSetIndex(1),children:(0,a.jsx)("p",{children:S("Apple Swap")})}),I&&(0,a.jsx)(f.Z,{className:"".concat(4===p?"activeSwap":""," swapItem headingItem\n                  "),onClick:()=>handleSetIndex(4),children:(0,a.jsx)("p",{children:S("Limit")})})]})}),(0,a.jsx)(f.Z,{className:"headingItem",onClick:()=>T(!0),children:(0,a.jsx)(c(),{src:i,alt:""})})]})})}),(0,a.jsxs)(f.Z,{padding:v?"0 24px":"0",mt:3.5,children:[1===p&&(0,a.jsx)(m.Z,{}),4===p&&(0,a.jsx)(Swap_LimitOrderProvider,{onTokenChange:n})]})]})})}},63254:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return w},default:function(){return swap}});var a=n(11527),s=n(50959),i=n(67391),r=n(83071),d=n(96016),u=n(74038),l=n(43238),o=n(12842),p=n(72532),c=n(42499),f=n(41490),m=n(66292),y=n.n(m),h=n(71242),x=n(6559),T=n(66343);let v=[{inputs:[{internalType:"address",name:"_feeToSetter",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token0",type:"address"},{indexed:!0,internalType:"address",name:"token1",type:"address"},{indexed:!1,internalType:"address",name:"pair",type:"address"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"PairCreated",type:"event"},{constant:!0,inputs:[],name:"INIT_CODE_HASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allPairs",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"allPairsLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"}],name:"createPair",outputs:[{internalType:"address",name:"pair",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"feeTo",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"feeToSetter",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"getPair",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_feeTo",type:"address"}],name:"setFeeTo",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_feeToSetter",type:"address"}],name:"setFeeToSetter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];var w=!0,swap=()=>{let[e,t]=(0,s.useState)(!1),[n,m]=(0,s.useState)(1),[w,b]=(0,s.useState)(""),[S,g]=(0,s.useState)(500),[I,j]=(0,s.useState)(0),[M,_]=(0,h.ju)(),[C,N]=(0,h.eW)(),{chainId:P,account:E,library:k}=(0,T.ZP)(),[A,O]=(0,s.useState)(P);(0,s.useMemo)(()=>{P===p.ChainId.ARBITRUM?(_(+x.E$),N(+x.vC)):(_(+x.$2),N(+x.Ms))},[P]);let{currencies:B,isAppleSwap:U,isAllowAppleSwap:F,isSwapDirect:G}=(0,r.L_)(),R=(0,u.pu)(B[d.gN.INPUT],P),L=(0,u.pu)(B[d.gN.OUTPUT],P),Z=x._7[null!=P?P:p.ChainId.BNB],H=(0,l.cq)(Z,v);(0,s.useEffect)(()=>(k&&W(),()=>{W.cancel()}),[R,L,U,E,n,B]);let D=(0,s.useMemo)(()=>{let e={[p.ChainId.BNB]:"bsc",[p.ChainId.ETH]:"ethereum",[p.ChainId.MATIC]:"polygon",[p.ChainId.ARBITRUM]:"arbitrum"};return e[A||p.ChainId.BNB]},[A]),W=y()(()=>{async function getPairAddressFromApple(e,t){try{if(H){let n=await (null==H?void 0:H.read.getPair([e.address,t.address]));n&&(U||!E)&&b(n)}}catch(e){}}if(g(1e3),P!==A&&O(P),R&&L&&U||F&&!G)getPairAddressFromApple(R,L);else if(R&&L){let e=x.xY.tokens.COMMON[p.ChainId.BNB].AP,t=x.xY.tokens.COMMON[p.ChainId.ARBITRUM].USDT,n=[e.address,t.address];n.includes(R.address)||n.includes(L.address)?getPairAddressFromApple(R,L):handleSetPairAddress(R,L)}},S),$=(0,s.useMemo)(()=>!c.tq&&w,[w]),handleSetPairAddress=(e,t)=>{try{let n=p.Pair.getAddressBase(e,t);b(n)}catch(e){}};(0,s.useEffect)(()=>{j(e=>e+1)},[w]);let q=(0,s.useRef)(null);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"w-full flex items-center flex-row swap-container",children:[e&&(0,a.jsx)(i.TB,{open:e,onClose:()=>t(!1)}),(0,a.jsxs)("div",{className:"w-full flex flex-row justify-center flex-wrap md:!flex-nowrap gap-5",children:[$?(0,a.jsx)("div",{className:"panel-iframe",children:(0,a.jsx)("iframe",{id:"myIframe",ref:q,width:"100%",height:"100%",src:"https://dexscreener.com/".concat(D,"/").concat(w,"?embed=1&info=0&theme=dark&trades=0")},I)}):!c.tq&&(0,a.jsx)("div",{className:"panel-iframe",children:(0,a.jsx)(f.Z,{width:"100%",height:555})}),(0,a.jsx)(o.default,{setTypeSwap:e=>{m(e),handleSetPairAddress(R,L)},onTokenChange:(e,t)=>{handleSetPairAddress(e,t)}})]})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=42504)}),_N_E=e.O()}]);